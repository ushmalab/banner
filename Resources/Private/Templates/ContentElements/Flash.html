<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers" data-namespace-typo3-fluid="true">

<f:layout name="Default" />

<f:section name="Header" />

<f:section name="Main">

    <f:if condition="{data.bodytext}">
        <div class="flash-message-container flash-position-{data.tx_flashmessage_position}"
            style="background-color:{data.tx_flashmessage_bgcolor};" data-flash-type="{data.tx_flashmessage_position}"
            id="flash-message-{data.uid}">

            <div class="container">
                <div class="row">
                    <f:if condition="{image}">
                        <f:then>
                            <div class="col-md-4">
                                <div class="flash-message-image">
                                    <f:for each="{image}" as="imageFile">
                                        <f:image image="{imageFile}" alt="{imageFile.alternative}" title="{imageFile.title}" />
                                    </f:for>
                                </div>
                            </div>
                            <div class="col-md-8">
                                <div class="flash-message-wrapper">
                                    <div class="flash-message-content" style="color:{data.tx_flashmessage_textcolor};">
                                        {data.bodytext -> f:format.html()}
                                    </div>
                                </div>
                                <button type="button" class="close-btn" aria-label="Close"
                                        style="color: {data.tx_flashmessage_textcolor};">âœ•</button>
                            </div>
                        </f:then>
                        <f:else>
                            <div class="col-md-12">
                                <div class="flash-message-wrapper">
                                    <div class="flash-message-content" style="color:{data.tx_flashmessage_textcolor};">
                                        {data.bodytext -> f:format.html()}
                                    </div>
                                </div>
                                <button type="button" class="close-btn" aria-label="Close"
                                        style="color: {data.tx_flashmessage_textcolor};">âœ•</button>
                            </div>
                        </f:else>
                    </f:if>
                </div>
            </div>
        </div>

        <!-- Show Again Icon -->
        <div class="show-again-icon flash-position-{data.tx_flashmessage_position}" 
             id="show-again-{data.uid}" 
             style="background-color: {data.tx_flashmessage_bgcolor};" 
             data-flash-id="flash-message-{data.uid}"
             title="Show flash message again">
            ðŸ’¬
        </div>
    </f:if>

</f:section>